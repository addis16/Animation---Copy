<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">        
<style>
#thing1 {
    position: absolute;
    top: 50px;
    background:#FC0;
    width: 50px;
    height: 50px;
    border-radius: 100%;        
}
</style>
</head>
<body>
<div id="thing1"></div>
<button onmousedown="changeDir('right');startAnimation()" onmouseup="StopAnimation()">Right</button>
<button onmousedown="changeDir('left');startAnimation()" onmouseup="stopAnimation()">Left</button>
<button onmousedown="changeDir('Up');startAnimation()" onmouseup="StopAnimation()">Up</button>
<button onmousedown="changeDir('Down');startAnimation()" onmouseup="stopAnimation()">Down</button>
<script>
    var el = document.getElementById('thing1');
    var reqID;
    var dir;
    function changeDir(d) {
        dir = d;
    }
    function startAnimation() {
        if(dir == "right"){
            el.style.left = (el.offsetLeft += 1) + 'px';
        } else if (dir == "left") {
            el.style.left = (el.offsetLeft -= 1) + 'px';
        } else if (dir == "Up") {
            el.style.top = (el.offsetTop += 1) + 'px';
        } else if (dir == "Down") {
            el.style.top = (el.offsetTop -= 1) + 'px';
        }    
        reqID = window.requestAnimationFrame(startAnimation);
    }    
    function stopAnimation() {
        window.cancelAnimationFrame(reqID);
    }
</script>
</body>
</html>
